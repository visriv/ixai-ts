# in config/var.yaml
data_gen: true
train: true
pointwise_xai: false
pairwise_xai: false

dataset:
  name: var_local
  all_times: False

  num_samples: 400
  num_series: 3        # D
  seq_len: 50         # T
  a1: 0.8     # default
  noise: 0.1           # default


model:
  name: transformer
  d_model: 64
  layers: 2

training:
  batch_size: 32
  epochs: 100

experiment:
  tau_max: 25
  num_permutations: 20
  interaction_method: ih

evals:
  loc@k: 5

# ============================
# Pointwise XAI (first-order)
# ============================
pointwise:
  explainers:
    - name: ig
      params:
        baseline: zero
        steps: 50

    # - name: deeplift
    #   params:
    #     baseline: zero
    
    - name: svs
      params:
        n_samples: 200
        baseline: zero

    - name: gradshap
      params:
        n_samples: 200
        # baseline: zero

  perturbation:
    baseline: zero
    k_max: 200
    mode: timepoint              # timepoint | window
    window_size: 1

  output:
    target: label                # label | pred
    score: logit                 # logit | prob
# ============================


sweeps:
  VAR-1:                     # Baseline
    a1: [0.8]
    noise: [0.1]
    num_permutations: [20]

  VAR-2:                     # Stability wrt permutations
    model.d_model: [16, 32, 64, 128]

  VAR-3:                     # Effect of noise
    noise: [0.05, 0.1, 0.2, 0.4]

  VAR-4:                     # Effect of a1 scale
    a1: [0.05, 0.1, 0.2, 0.4, 0.8]

  VAR-5:                     # Model comparison
    model.name: [
                 tcn,
                 lstm, 
                 transformer
                 ]